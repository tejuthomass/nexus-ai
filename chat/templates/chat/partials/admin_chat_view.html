<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <title>View Chat - {{ session.title }}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
    <style>body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #0a0a0f 0%, #12121a 50%, #0a0a0f 100%); }</style>
</head>
<body class="text-zinc-100 p-8 min-h-screen">

    <div class="max-w-3xl mx-auto">
        <div class="mb-8 border-b border-white/10 pb-4">
            <h1 class="text-2xl font-bold text-white">{{ session.title }}</h1>
            <p class="text-sm text-zinc-500">User: {{ session.user.username }} | Date: {{ session.created_at }}</p>
        </div>

        <div class="space-y-6">
            {% for msg in messages %}
                {% if msg.role == 'user' %}
                    <div class="flex justify-end">
                        <div class="bg-gradient-to-br from-indigo-600/80 to-violet-600/70 text-white px-5 py-3.5 rounded-2xl rounded-tr-lg max-w-[80%] border border-indigo-500/40 shadow-xl shadow-indigo-500/20">
                            {{ msg.content }}
                        </div>
                    </div>
                {% else %}
                    <div class="flex gap-4">
                        <div class="w-8 h-8 rounded-lg bg-gradient-to-br from-indigo-500 via-violet-500 to-purple-600 flex-shrink-0 flex items-center justify-center text-white text-xs mt-1 shadow-lg shadow-indigo-500/30">
                            <i class="fas fa-zap"></i>
                        </div>
                        <div class="flex-1 prose prose-invert max-w-none">
                            {{ msg.get_html_content|safe }}
                        </div>
                    </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>
    <script>hljs.highlightAll();</script>
</body>
</html>